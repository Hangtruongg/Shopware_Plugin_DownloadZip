(()=>{"use strict";let{PluginBaseClass:e}=window;window.PluginManager.register("HomsymCustomDownload",class extends e{init(){console.log("HomsymCustomDownload initialized"),this._registerEvents()}_registerEvents(){let e=document.querySelectorAll("#downloadZipBtn"),o=document.getElementById("downloadPopup"),t=document.getElementById("confirmDownload"),n=document.getElementById("cancelDownload");if(!e||!o||!t||!n){console.warn("HomsymCustomDownloadPlugin: Required elements not found!");return}console.log("Elements found, adding event listeners..."),e.forEach(e=>{e.addEventListener("click",n=>{n.preventDefault(),console.log("Download button clicked!");let d=e.getAttribute("data-download-id"),l=e.getAttribute("data-order-id");console.log("Download ID:",d,"Order ID:",l),o.style.display="flex",t.setAttribute("data-download-id",d),t.setAttribute("data-order-id",l)})}),n.addEventListener("click",()=>{console.log("Cancel button clicked! Closing popup."),o.style.display="none"}),t.addEventListener("click",()=>{let e=t.getAttribute("data-download-id"),n=t.getAttribute("data-order-id");console.log("Confirm button clicked! Redirecting...");let d=window.location.pathname.split("/").slice(0,3).join("/");window.location.href="".concat(window.location.origin).concat(d,"/account/order/download/zip/").concat(n,"/").concat(e),o.style.display="none"})}},"[downloads-zip-plugin]")})();